# OPTIONS

set -g mouse on
set -g status-keys vi
set -g base-index 1
set -g pane-base-index 1
set-window-option -g mode-keys vi

# KEYBINDS

# remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# reload config file (change file location to your the tmux.conf you want to use)
bind r source-file "~/.config/tmux/tmux.conf" \; display "Reloaded!"

# split panes using 's' and 'v'
bind v split-window -hc "#{pane_current_path}"
bind s split-window -vc "#{pane_current_path}"
bind V split-window -h
bind S split-window -v
unbind '"'
unbind %

bind n new-window -c "#{pane_current_path}"
bind N new-window
bind Enter choose-window
unbind w
bind w next-window
bind C-w next-window
bind W previous-window
bind q confirm-before -p "kill-pane '#P'? (y/n)" kill-pane
bind Q confirm-before -p "kill-window '#W'? (y/n)" kill-window
bind C-q confirm-before -p "kill-session '#S'? (y/n)" kill-session
bind m select-pane -m\; setw monitor-activity
unbind [
unbind ]
bind [ swap-window -t -1\; select-window -t -1
bind ] swap-window -t +1\; select-window -t +1
bind ' ' copy-mode
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection

# STYLE

set -g default-terminal "${TERM}"

set -g message-style 'fg=#FFC777 bg=#38343D bold'
set -g pane-active-border-style 'fg=#FFFFFF'
set -g pane-border-style 'fg=#808080'
set -g status on
set -g status-justify left
set -g status-left "#[fg=#1B1D2B bg=#C3E88D bold]  #S #[fg=default bg=default]"
set -g status-left-length 30
set -g status-position top
set -g status-interval 1
set -g status-right "#[fg=#3B4261 bg=#000000]#[fg=#82AAFF bg=#3B4261] #(whoami)@#h #[fg=#1B1D2B bg=#82AAFF] %X %x"
set -g status-right-length 75
set -g status-right-style 'fg=#82AAFF bg=#3B4261'
set -g status-style 'fg=#C3E88D'
set -g window-status-activity-style ''
set -g window-status-current-format '#[fg=#82AAFF bg=#000000]#[fg=#1B1D2B bg=#82AAFF bold]#I│#W #{?window_marked_flag,󰂚 ,}#{?window_zoomed_flag,󰊓 ,}#[fg=#82AAFF bg=default]'
set -g window-status-current-style ''
set -g window-status-format '#[fg=#3B4261 bg=#000000]#[bg=#3B4261]#{?window_activity_flag,#[fg=#FFC777 bold blink],#[fg=#82AAFF]}#I│#W #{?window_bell_flag,#[bg=#FFC777]󰂚#[bg=default] ,}#{?window_silent_flag,󰟅 ,}#{?window_marked_flag,󰂚 ,}#{?window_zoomed_flag,󰊓 ,}#[fg=#3B4261 bg=default]'
set -g window-status-separator ''
set -g window-status-style ''

# LOCK SCREEN

set -g lock-after-time 120
set -g lock-command 'command -v gitlogue >/dev/null 2>&1 && cd "$(tmux display-message -p "#{pane_current_path}")"; if git rev-parse --git-dir >/dev/null 2>&1; then gitlogue --order desc; else ln -sf "$HOME/.local/share/yadm/repo.git" "$HOME/.git"; gitlogue --order desc; rm -f "$HOME/.git"; fi'

# PLUGINS

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.config/tmux/plugins/tpm/tpm'
